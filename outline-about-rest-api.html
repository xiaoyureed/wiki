<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>outline-about-rest-api - Xiaoyu Wiki</title>
        

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" rel="stylesheet" type="text/css">
        <link href="https://fonts.googleapis.com/css?family=Source+Code+Pro:500" rel="stylesheet" type="text/css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        

        
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "light" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="pre.html">pre page</a></li><li class="chapter-item expanded "><a href="SpringBoot-note.html"><strong aria-hidden="true">1.</strong> Spring boot note</a></li><li class="chapter-item expanded "><a href="springcloud-note.html"><strong aria-hidden="true">2.</strong> springcloud-note</a></li><li class="chapter-item expanded "><a href="java-concurrent.html"><strong aria-hidden="true">3.</strong> java-concurrent</a></li><li class="chapter-item expanded "><a href="java-memory-model-jmm-jvm.html"><strong aria-hidden="true">4.</strong> java-memory-model-jmm-jvm</a></li><li class="chapter-item expanded "><a href="java-note.html"><strong aria-hidden="true">5.</strong> java-note</a></li><li class="chapter-item expanded "><a href="rust-note.html"><strong aria-hidden="true">6.</strong> rust-note</a></li><li class="chapter-item expanded "><a href="git-note.html"><strong aria-hidden="true">7.</strong> git note</a></li><li class="chapter-item expanded "><a href="linux-note.html"><strong aria-hidden="true">8.</strong> linux-note</a></li><li class="chapter-item expanded "><a href="cross-gfw.html"><strong aria-hidden="true">9.</strong> cross gfw</a></li><li class="chapter-item expanded "><a href="react-note.html"><strong aria-hidden="true">10.</strong> react-note</a></li><li class="chapter-item expanded "><a href="cs-note.html"><strong aria-hidden="true">11.</strong> cs note</a></li><li class="chapter-item expanded "><a href="distributed-system.html"><strong aria-hidden="true">12.</strong> distributed system</a></li><li class="chapter-item expanded "><a href="message-queue.html"><strong aria-hidden="true">13.</strong> message-queue</a></li><li class="chapter-item expanded "><a href="data-structure-and-algorithm.html"><strong aria-hidden="true">14.</strong> data structure and algorithm</a></li><li class="chapter-item expanded "><a href="effective-java-reading-note.html"><strong aria-hidden="true">15.</strong> effective java reading note</a></li><li class="chapter-item expanded "><a href="docker-note.html"><strong aria-hidden="true">16.</strong> docker note</a></li><li class="chapter-item expanded "><a href="how-to-test-java-app.html"><strong aria-hidden="true">17.</strong> how-to-test-java-app</a></li><li class="chapter-item expanded "><a href="maven-note.html"><strong aria-hidden="true">18.</strong> maven-note</a></li><li class="chapter-item expanded "><a href="mac.html"><strong aria-hidden="true">19.</strong> mac</a></li><li class="chapter-item expanded "><a href="autohotkey.html"><strong aria-hidden="true">20.</strong> AHK collection</a></li><li class="chapter-item expanded "><a href="class-conflict-check.html"><strong aria-hidden="true">21.</strong> class conflict check</a></li><li class="chapter-item expanded "><a href="cpp.html"><strong aria-hidden="true">22.</strong> cpp</a></li><li class="chapter-item expanded "><a href="create-blog-by-react.html"><strong aria-hidden="true">23.</strong> create blog by react</a></li><li class="chapter-item expanded "><a href="css-note.html"><strong aria-hidden="true">24.</strong> css-note</a></li><li class="chapter-item expanded "><a href="css-pre-processor.html"><strong aria-hidden="true">25.</strong> css pre processor</a></li><li class="chapter-item expanded "><a href="defect-about-java-programmer-from-programming-thinking.html"><strong aria-hidden="true">26.</strong> from programming thinking</a></li><li class="chapter-item expanded "><a href="design-pattern-note.html"><strong aria-hidden="true">27.</strong> design pattern note</a></li><li class="chapter-item expanded "><a href="dev-resources.html"><strong aria-hidden="true">28.</strong> dev resources</a></li><li class="chapter-item expanded "><a href="eclipse.html"><strong aria-hidden="true">29.</strong> eclipse</a></li><li class="chapter-item expanded "><a href="extjs-note.html"><strong aria-hidden="true">30.</strong> extjs-note</a></li><li class="chapter-item expanded "><a href="FreeMarker-note.html"><strong aria-hidden="true">31.</strong> FreeMarker-note</a></li><li class="chapter-item expanded "><a href="go-note.html"><strong aria-hidden="true">32.</strong> golang</a></li><li class="chapter-item expanded "><a href="hello-world.html"><strong aria-hidden="true">33.</strong> hexo</a></li><li class="chapter-item expanded "><a href="html-note.html"><strong aria-hidden="true">34.</strong> html-note</a></li><li class="chapter-item expanded "><a href="idea-note.html"><strong aria-hidden="true">35.</strong> idea-note</a></li><li class="chapter-item expanded "><a href="interview-system-design.html"><strong aria-hidden="true">36.</strong> interview-system-design</a></li><li class="chapter-item expanded "><a href="java-code-clean.html"><strong aria-hidden="true">37.</strong> java-code-clean</a></li><li class="chapter-item expanded "><a href="job-interview-cv.html"><strong aria-hidden="true">38.</strong> job-interview-cv</a></li><li class="chapter-item expanded "><a href="joke-collecting.html"><strong aria-hidden="true">39.</strong> joke-collecting</a></li><li class="chapter-item expanded "><a href="jquery-note.html"><strong aria-hidden="true">40.</strong> jquery-note</a></li><li class="chapter-item expanded "><a href="js-tutorial.html"><strong aria-hidden="true">41.</strong> js-tutorial</a></li><li class="chapter-item expanded "><a href="money.html"><strong aria-hidden="true">42.</strong> money</a></li><li class="chapter-item expanded "><a href="mongodb-note.html"><strong aria-hidden="true">43.</strong> mongodb-note</a></li><li class="chapter-item expanded "><a href="mvc-mvvm.html"><strong aria-hidden="true">44.</strong> mvc-mvvm</a></li><li class="chapter-item expanded "><a href="my-ioc.html"><strong aria-hidden="true">45.</strong> my-ioc</a></li><li class="chapter-item expanded "><a href="mybatis-note.html"><strong aria-hidden="true">46.</strong> mybatis-note</a></li><li class="chapter-item expanded "><a href="mysql-note.html"><strong aria-hidden="true">47.</strong> mysql-note</a></li><li class="chapter-item expanded "><a href="nodejs.html"><strong aria-hidden="true">48.</strong> nodejs</a></li><li class="chapter-item expanded "><a href="outline-about-cache.html"><strong aria-hidden="true">49.</strong> outline-about-cache</a></li><li class="chapter-item expanded "><a href="outline-about-db-design-note.html"><strong aria-hidden="true">50.</strong> outline-about-db-design-note</a></li><li class="chapter-item expanded "><a href="outline-about-http.html"><strong aria-hidden="true">51.</strong> outline-about-http</a></li><li class="chapter-item expanded "><a href="outline-about-rest-api.html" class="active"><strong aria-hidden="true">52.</strong> outline-about-rest-api</a></li><li class="chapter-item expanded "><a href="php-note.html"><strong aria-hidden="true">53.</strong> php-note</a></li><li class="chapter-item expanded "><a href="postgres-note.html"><strong aria-hidden="true">54.</strong> postgres-note</a></li><li class="chapter-item expanded "><a href="python-note.html"><strong aria-hidden="true">55.</strong> python-note</a></li><li class="chapter-item expanded "><a href="redis-login-limitation.html"><strong aria-hidden="true">56.</strong> redis-login-limitation</a></li><li class="chapter-item expanded "><a href="redis-note.html"><strong aria-hidden="true">57.</strong> redis-note</a></li><li class="chapter-item expanded "><a href="regex-js.html"><strong aria-hidden="true">58.</strong> regex-js</a></li><li class="chapter-item expanded "><a href="servlet.html"><strong aria-hidden="true">59.</strong> servlet</a></li><li class="chapter-item expanded "><a href="spring-note.html"><strong aria-hidden="true">60.</strong> spring-note</a></li><li class="chapter-item expanded "><a href="springboot-doc.html"><strong aria-hidden="true">61.</strong> springboot-doc</a></li><li class="chapter-item expanded "><a href="springmvc-note.html"><strong aria-hidden="true">62.</strong> springmvc-note</a></li><li class="chapter-item expanded "><a href="task-schedule-note.html"><strong aria-hidden="true">63.</strong> task-schedule-note</a></li><li class="chapter-item expanded "><a href="tcp-ip-note.html"><strong aria-hidden="true">64.</strong> tcp-ip-note</a></li><li class="chapter-item expanded "><a href="tomcat-jetty-nginx.html"><strong aria-hidden="true">65.</strong> tomcat-jetty-nginx</a></li><li class="chapter-item expanded "><a href="webpack-note.html"><strong aria-hidden="true">66.</strong> webpack-note</a></li><li class="chapter-item expanded "><a href="windows-sub-system-on-linux.html"><strong aria-hidden="true">67.</strong> windows-sub-system-on-linux</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                        
                    </div>

                    <h1 class="menu-title">Xiaoyu Wiki</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        
                    </div>
                </div>

                
                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" name="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <hr />
<h2>title: RESTful api 及 其他webService技术
date: 2017-08-18 19:29:09
tags: [restful]
categories: java web</h2>
<p>http://www.ruanyifeng.com/blog/2014/05/restful_api.html,</p>
<p>java的rmi使用https://blog.csdn.net/zhaowen25/article/details/45443951, </p>
<p>xml-rpc使用http://www.cnblogs.com/flyoung2008/archive/2011/11/12/2246282.html</p>
<p>http://www.ruanyifeng.com/blog/2016/04/cors.html</p>
<p>https://kalasearch.cn/blog/rest-api-best-practices/</p>
<!--more-->
<!-- TOC -->
<ul>
<li><a href="#web-service">Web Service</a></li>
<li><a href="#%E4%BB%80%E4%B9%88%E6%98%AFrestful%E6%9E%B6%E6%9E%84">什么是restful架构？</a></li>
<li><a href="#restful%E6%9C%80%E5%A4%A7%E7%9A%84%E4%BC%98%E5%8A%BF">RESTful最大的优势</a></li>
<li><a href="#%E5%85%B8%E5%9E%8B%E7%9A%84%E8%AE%BE%E8%AE%A1%E9%94%99%E8%AF%AF">典型的设计错误</a></li>
<li><a href="#%E8%AE%BE%E8%AE%A1%E5%90%88%E7%90%86%E7%9A%84restful-api">设计合理的restful API</a></li>
<li><a href="#%E6%8E%A5%E5%8F%A3%E5%AE%89%E5%85%A8%E8%AE%BE%E8%AE%A1">接口安全设计</a></li>
<li><a href="#%E5%AE%9E%E8%B7%B5">实践</a>
<ul>
<li><a href="#%E8%AE%BE%E8%AE%A1%E7%BB%9F%E4%B8%80%E7%9A%84%E5%93%8D%E5%BA%94%E7%BB%93%E6%9E%84">设计统一的响应结构</a></li>
<li><a href="#%E5%AE%9E%E7%8E%B0%E5%AF%B9%E8%B1%A1%E5%BA%8F%E5%88%97%E5%8C%96">实现对象序列化</a></li>
<li><a href="#%E5%A4%84%E7%90%86%E5%BC%82%E5%B8%B8">处理异常</a></li>
<li><a href="#%E6%94%AF%E6%8C%81%E5%8F%82%E6%95%B0%E9%AA%8C%E8%AF%81">支持参数验证</a></li>
<li><a href="#%E8%A7%A3%E5%86%B3%E8%B7%A8%E5%9F%9F%E9%97%AE%E9%A2%98">解决跨域问题</a></li>
<li><a href="#api%E8%AE%BF%E9%97%AE%E6%9D%83">API访问权</a></li>
</ul>
</li>
</ul>
<!-- /TOC -->
<h1><a class="header" href="#web-service" id="web-service">Web Service</a></h1>
<p>服务器如何向客户端提供服务</p>
<p>常用的方法有:</p>
<p>RPC 所谓的远程过程调用 (面向方法, 强调动作): 像调用本地服务(方法)一样调用服务器的服务(方法), 比如xml-rpc, json-rpc
SOA 所谓的面向服务的架构(面向消息), 和具体语言无关
REST 所谓的 Representational state transfer 表现层状态转移 (面向资源, 强调资源)
Hessian 见<a href="https://blog.csdn.net/weigao_easy/article/details/52351042">ref</a></p>
<p><a href="#webservice%E5%85%B3%E6%B3%A8%E7%82%B9">webservice关注点</a></p>
<h1><a class="header" href="#什么是restful架构" id="什么是restful架构">什么是restful架构？</a></h1>
<ul>
<li>
<p>一个架构符合rest原则则称之为restful架构</p>
</li>
<li>
<p>rest原则（资源的“表现层状态转化”）</p>
<ul>
<li>
<p>每个URI代表一个资源（资源可以使一段文本，一张图片，甚至是一个动作），URI中只能出现名词</p>
</li>
<li>
<p>client 和server间传递资源的某种表现层（文本表现层有text，json，xml；图片表现层有JPG，png等）</p>
</li>
<li>
<p>客户端通过http四个动词对服务器资源进行操作，实现“表现层状态转化”</p>
</li>
<li>
<p>无状态原则：即http的无状态，指的是服务器没有保存客户端的状态信息，客户端必须每次带上自己的状态去请求服务器。比如登陆，我们使用Cookie通过客户端保持登陆状态。有利于实现负载均衡（因为请求自身带有状态信息，任何server均可以处理client请求）</p>
</li>
</ul>
<blockquote>
<p>如：如果遥控器与空调之间是有状态的，假设你离开空调接收范围调整了遥控器温度，变成19，那回到范围内你按一次升高一度，基于原先温度状态，遥控器给空调发送一个”提高1度“的指令，就会出现遥控器提高到20，而空调变成21。如果要空间与空调之前是无状态的，假设你离开空调接收范围调整了遥控器温度，变成19，那回到范围内你按一次升高一度，遥控器给空调发送一个”设定温度值20“，这样两者最终还是相同的值。</p>
</blockquote>
<ul>
<li>如果一个动作是http动词表现不了的，应该把这个动作变为一个资源，以名词形式通过URI发布出来</li>
</ul>
</li>
</ul>
<h1><a class="header" href="#restful最大的优势" id="restful最大的优势">RESTful最大的优势</a></h1>
<p>要求从资源的角度对系统进行拆分, 而不是像以前从动作/操作的角度</p>
<p>我们平时搞系统是这样的：</p>
<ol>
<li>有新建用户功能</li>
<li>新建用户需要一个URL</li>
<li>往这个URL发送的数据要定义好</li>
<li>开始写后端和前端</li>
</ol>
<p>这种方式当然可以架构出一个系统，甚至是一个好系统，但是偶尔会有些问题</p>
<ul>
<li>操作之间是会有关联，你的设计容易变成“第2个操作要求第1个操作进行过”，这种关系多起来系统就乱了</li>
<li>URL设计会缺乏一致性</li>
<li>操作通常被认为是有副作用（Side Effect）的，所以很少有人基于操作去设计缓存之类的东西</li>
</ul>
<p>遵循Restful风格后, 系统会获得这些好处:</p>
<ul>
<li>各个资源虽然可能有关联，但依旧是能够简单地切掉这些关联导致相互独立的，所以不会有非常乱的耦合性</li>
<li>对资源的操作就这么几种，所以很容易设计一致的URL</li>
<li>我们明白对资源的读操作是无副作用的，所以能方便的接入缓存</li>
</ul>
<h1><a class="header" href="#典型的设计错误" id="典型的设计错误">典型的设计错误</a></h1>
<ul>
<li>
<p>URI中包含动词</p>
<p>URI中不应该有动词，因为URI表示一个资源，只能是名词，动词放在http协议中，如：</p>
<pre><code>/posts/show/1--------错误    
/posts/1-----------正确，在http中用get表示show方法
</code></pre>
<p>如果某个动作四个http动词表现不了，如：transfer 转账,用户1向用户2转账500元</p>
<pre><code>POST /accounts/1/transfer/500/to/2-------错误

----------

POST /transaction HTTP/1.1  
Host: 127.0.0.1

from=1&amp;to=2&amp;amount=500.00  ------------正确，资源可以是一种服务，将动作 作为一种资源对外提供
</code></pre>
<p>再比如: 登录场景. 我们可以将登录这个动作资源化, 将登录视作一种资源</p>
<p>把“登录”作为一个资源，所以登录是POST /logins，退出是DELETE /logins; 当然还有其他的解释比如, 登录登出视作session的增删, 而session是资源</p>
</li>
<li>
<p>URI中加入资源的版本号</p>
<p>API的版本号可以放进URI中，资源的版本号则不要放入</p>
<p>不同的版本是同一个资源的不同表现形式，如下是错误的：</p>
<pre><code>http://www.example.com/app/1.0/foo
http://www.example.com/app/1.1/foo
http://www.example.com/app/2.0/foo
</code></pre>
<p>正确的做法是采用同一个URI，版本号在http的请求头accept字段中标明：</p>
<pre><code>Accept: vnd.example-com.foo+json; version=1.0
Accept: vnd.example-com.foo+json; version=1.1
Accept: vnd.example-com.foo+json; version=2.0
</code></pre>
</li>
</ul>
<h1><a class="header" href="#设计合理的restful-api" id="设计合理的restful-api">设计合理的restful API</a></h1>
<p>主要考虑如下几个要素：</p>
<ul>
<li>
<p>协议</p>
<p>http 或者 https</p>
</li>
<li>
<p>身份认证</p>
<p>API的身份认证应该使用OAuth 2.0框架</p>
</li>
<li>
<p>数据格式</p>
<p>json避免使用xml</p>
</li>
<li>
<p>域名</p>
<p>尽量部署在专有域名下，如：https://api.example.com<br />
如果确定API很简单，不会有进一步扩展，可以考虑放在主域名下：https://example.org/api/</p>
</li>
<li>
<p>版本</p>
<p>应该将API版本号放入URL：https://api.example.com/v1/<br />
or 
将版本信息放在http header中，但是不如放在URL中直观</p>
</li>
<li>
<p>路径（endpoint)</p>
<p>只含有名词，一般为复数形式，如：</p>
<pre><code>https://api.example.com/v1/zoos
https://api.example.com/v1/animals
https://api.example.com/v1/employees
</code></pre>
</li>
<li>
<p>http动词</p>
<p>常用的有如下5种：</p>
<pre><code>GET（SELECT）：从服务器取出资源（一项或多项）。
POST（CREATE）：在服务器新建一个资源。
PUT（UPDATE）：在服务器更新资源（客户端提供改变后的完整资源）。
PATCH（UPDATE）：在服务器更新资源（客户端提供改变的属性）。
DELETE（DELETE）：从服务器删除资源。
</code></pre>
<p>还有两个不常用的：----<a href="https://stackoverflow.com/questions/6660019/restful-api-methods-head-options">ref</a></p>
<img src="Snipaste_2018-05-07_22-35-43.png" align="left">
<pre><code>HEAD: 获取某些header, 和get类似, 但是response没有body, 确定缓存哪些信息, 哪些缓存信息需要更新
OPTIONS：对于某个resources可以使用哪些http动词
</code></pre>
<p>下面是一些例子</p>
<pre><code>GET /zoos：列出所有动物园
POST /zoos：新建一个动物园
GET /zoos/ID：获取某个指定动物园的信息
PUT /zoos/ID：更新某个指定动物园的信息（提供该动物园的全部信息）
PATCH /zoos/ID：更新某个指定动物园的信息（提供该动物园的部分信息）
DELETE /zoos/ID：删除某个动物园
GET /zoos/ID/animals：列出某个指定动物园的所有动物
DELETE /zoos/ID/animals/ID：删除某个指定动物园的指定动物
</code></pre>
</li>
<li>
<p>过滤信息（filtering）</p>
<p>如果记录数量很多，服务器不可能都将它们返回给用户。API应该提供参数，过滤返回结果。下面是一些常见的参数：</p>
<pre><code>?limit=10：指定返回记录的数量
?offset=10：指定返回记录的开始位置。
?page=2&amp;per_page=100：指定第几页，以及每页的记录数。
?sortby=name&amp;order=asc：指定返回结果按照哪个属性排序，以及排序顺序。
?animal_type_id=1：指定筛选条件
</code></pre>
</li>
<li>
<p>状态码（status code）</p>
<p>常用的如下：</p>
<pre><code>200 OK - [GET]：服务器成功返回用户请求的数据，该操作是幂等的（Idempotent）。
201 CREATED - [POST/PUT/PATCH]：用户新建或修改数据成功。
202 Accepted - [*]：表示一个请求已经进入后台排队（异步任务）
204 NO CONTENT - [DELETE]：用户删除数据成功。
400 INVALID REQUEST - [POST/PUT/PATCH]：用户发出的请求有错误，服务器没有进行新建或修改数据的操作，该操作是幂等的。
401 Unauthorized - [*]：表示用户没有权限（令牌、用户名、密码错误）。
403 Forbidden - [*] 表示用户得到授权（与401错误相对），但是访问是被禁止的。
404 NOT FOUND - [*]：用户发出的请求针对的是不存在的记录，服务器没有进行操作，该操作是幂等的。
406 Not Acceptable - [GET]：用户请求的格式不可得（比如用户请求JSON格式，但是只有XML格式）。
410 Gone -[GET]：用户请求的资源被永久删除，且不会再得到的。
422 Unprocesable entity - [POST/PUT/PATCH] 当创建一个对象时，发生一个验证错误。
500 INTERNAL SERVER ERROR - [*]：服务器发生错误，用户将无法判断发出的请求是否成功。
</code></pre>
</li>
<li>
<p>错误处理（error handling）</p>
<p>如果状态码是4xx，就应该向用户返回出错信息。一般来说，返回的信息中将error作为键名，出错信息作为键值即可。</p>
<pre><code>{
    error: &quot;Invalid API key&quot;
}
</code></pre>
</li>
<li>
<p>返回结果</p>
<p>针对不同的操作，服务器的返回结果应该符合下面的规范：</p>
<pre><code>GET /collection：返回资源对象的列表（数组）
GET /collection/resource：返回单个资源对象
POST /collection：返回新生成的资源对象
PUT /collection/resource：返回完整的资源对象
PATCH /collection/resource：返回完整的资源对象
DELETE /collection/resource：返回一个空文档
</code></pre>
</li>
<li>
<p>Hypermedia API</p>
</li>
</ul>
<h1><a class="header" href="#接口安全设计" id="接口安全设计">接口安全设计</a></h1>
<p><a href="https://www.cnblogs.com/jurendage/p/12653865.html">1</a></p>
<p>https://blog.csdn.net/angryjiji/article/details/99476028</p>
<p>对于安全敏感的接口, 需要作出特殊的安全设计, 当然首先就是推荐使用 https</p>
<ul>
<li>
<p>token - 一般为 一个 UUID, 用于标识接口调用者的身份, 减少用户名和密码的传输次数</p>
<p>一般情况下客户端(接口调用方)需要先向服务器端申请一个接口调用的账号，服务器会给出一个appId和多个 (appkey, appSecret)对, key用于参数签名使用 (同一个 app_id 可以对应多个 app_key+app_secret, 这样 平台就可以分配你不一样的权限, 比如 app_key1 + app_secect1 只有只读权限 但是 app_key2+app_secret2 有读写权限)</p>
<p>server 生成 token 后, 将 token 作为 key, 将其他关联信息作为 value 存入 redis, 当一个 req 过来, 会带着 token, 到 redis 查这个 token, 如果存在, 则放行, 不存在, 则拦截</p>
<p>细分为:</p>
<ul>
<li>接口令牌 (api token) - 访问无需登录的接口, 如 登录, 注册 需要拿appId、timestamp和sign来换，sign=加密(appId + timestamp + key)</li>
<li>用户令牌 (user token) - 用于访问需要登录后调用的接口 需要拿用户名和密码来换</li>
</ul>
</li>
<li>
<p>timestamp - 是客户端调用接口时对应的当前时间戳，用于防止DoS攻击</p>
<p>每次调用接口时接口都会判断服务器当前系统时间和接口中传的的timestamp的差值，如果这个差值超过某个设置的时间(假如5分钟)，那么这个请求将被拦截掉，如果在设置的超时时间范围内，是不能阻止DoS攻击的</p>
</li>
<li>
<p>sign - 用于参数签名，防止参数被非法篡改, 比如涉及到转账的接口</p>
<p>sign的值一般是将所有非空参数按照升续排序然后+token+key+timestamp+nonce拼接在一起，然后使用某种加密算法进行加密，作为接口中的一个参数sign来传递，也可以将sign放到请求头中 (nonce 为随机数, 客户端随机生成, 目的是增加sign签名的多变性, 一般是数字和字母的组合，6位长度)</p>
<p>当服务器调用接口前会按照sign的规则重新计算出sign的值然后和接口传递的sign参数的值做比较, 相同则放行, 否则拦截</p>
<p>server 也可以返回一个 sign 给 client, 用于防止 response 被篡改</p>
</li>
<li>
<p>防重复提交(幂等)</p>
<p>当请求第一次提交时将sign作为key保存到redis，并设置超时时间，超时时间和Timestamp中设置的差值相同</p>
<p>这样, 当同一个请求第二次访问时会先检测redis是否存在该sign，如果存在则证明重复提交了，接口就不再继续调用了。如果sign在缓存服务器中因过期时间到了，而被删除了，此时当这个url再次请求服务器时，因token的过期时间和sign的过期时间一直，sign过期也意味着token过期，那样同样的url再访问服务器会因token错误会被拦截掉</p>
</li>
</ul>
<p>最终的使用流程:</p>
<ol>
<li>server 给 client 提供 appId, key</li>
<li>client 携带 appId、timestamp、sign, 去获取 server 的 api token, sign = 加密(appId + timestamp + key)</li>
<li>接着, client 就可以携带 api token 访问无需登录的 api.当访问用户需要登录的接口时，客户端跳转到登录页面，通过用户名和密码调用登录接口，登录接口会返回一个usertoken, 客户端拿着usertoken 去访问需要登录才能访问的接口</li>
</ol>
<h1><a class="header" href="#实践" id="实践">实践</a></h1>
<h2><a class="header" href="#设计统一的响应结构" id="设计统一的响应结构">设计统一的响应结构</a></h2>
<p>json格式如下：</p>
<pre><code class="language-json">{
    &quot;meta&quot;: {//元数据
        &quot;success&quot;: true,
        &quot;message&quot;: &quot;ok&quot;
    },
    &quot;data&quot;: ...//数据
}
</code></pre>
<p>相应的response类：</p>
<pre><code class="language-java">public class Response {

    private static final String OK = &quot;ok&quot;;
    private static final String ERROR = &quot;error&quot;;

    private Meta meta;
    private Object data;

    public Response success() {
        this.meta = new Meta(true, OK);
        return this;
    }

    public Response success(Object data) {
        this.meta = new Meta(true, OK);
        this.data = data;
        return this;
    }

    public Response failure() {
        this.meta = new Meta(false, ERROR);
        return this;
    }

    public Response failure(String message) {
        this.meta = new Meta(false, message);
        return this;
    }

    public Meta getMeta() {
        return meta;
    }

    public Object getData() {
        return data;
    }

    public class Meta {

        private boolean success;
        private String message;

        public Meta(boolean success) {
            this.success = success;
        }

        public Meta(boolean success, String message) {
            this.success = success;
            this.message = message;
        }

        public boolean isSuccess() {
            return success;
        }

        public String getMessage() {
            return message;
        }
    }
}
</code></pre>
<h2><a class="header" href="#实现对象序列化" id="实现对象序列化">实现对象序列化</a></h2>
<p>Spring MVC 已经为我们提供了这类序列化特性，只需在 Controller 的方法参数中使用 @RequestBody 注解定义需要反序列化的参数即可</p>
<p>若需要对 Controller 的方法返回值进行序列化，则需要在该返回值上使用 @ResponseBody 注解来定义</p>
<pre><code class="language-java">@Controller
public class AdvertiserController {

    @RequestMapping(value = &quot;/advertiser/{id}&quot;, method = RequestMethod.GET)
    public @ResponseBody Response getAdvertiser(@PathVariable(&quot;id&quot;) String advertiserId) {
        ...
    }
}
</code></pre>
<p>由于经常会使用到 @ResponseBody 注解，所以 Spring 提供了一个名为 @RestController 的注解来取代以上的 @Controller 注解，这样我们就可以省略返回值前面的 @ResponseBody 注解了，但参数前面的 @RequestBody 注解是无法省略的</p>
<pre><code class="language-java">@RestController
public class AdvertiserController {

    @RequestMapping(value = &quot;/advertiser&quot;, method = RequestMethod.POST)
    public Response createAdvertiser(@RequestBody AdvertiserParam advertiserParam) {
        ...
    }

    @RequestMapping(value = &quot;/advertiser/{id}&quot;, method = RequestMethod.GET)
    public Response getAdvertiser(@PathVariable(&quot;id&quot;) String advertiserId) {
        ...
    }
}
</code></pre>
<p>使用 Jackson 来提供 JSON 的序列化操作，在 Spring 配置文件中只需添加以下配置即可：</p>
<pre><code class="language-xml">&lt;mvc:annotation-driven&gt;
    &lt;mvc:message-converters&gt;
        &lt;bean class=&quot;org.springframework.http.converter.json.MappingJackson2HttpMessageConverter&quot;/&gt;
    &lt;/mvc:message-converters&gt;
&lt;/mvc:annotation-driven&gt;
</code></pre>
<p>但是这是最基础的json序列化操作，如果需要排除值为空属性、进行缩进输出、将驼峰转为下划线、进行日期格式化等，这又如何实现呢？</p>
<p>第一步：扩展 Jackson 提供的 ObjectMapper 类</p>
<pre><code class="language-java">public class CustomObjectMapper extends ObjectMapper {

    private boolean camelCaseToLowerCaseWithUnderscores = false;
    private String dateFormatPattern;

    public void setCamelCaseToLowerCaseWithUnderscores(boolean camelCaseToLowerCaseWithUnderscores) {
        this.camelCaseToLowerCaseWithUnderscores = camelCaseToLowerCaseWithUnderscores;
    }

    public void setDateFormatPattern(String dateFormatPattern) {
        this.dateFormatPattern = dateFormatPattern;
    }

    public void init() {
        // 排除值为空属性
        setSerializationInclusion(JsonInclude.Include.NON_NULL);
        // 进行缩进输出
        configure(SerializationFeature.INDENT_OUTPUT, true);
        // 将驼峰转为下划线
        if (camelCaseToLowerCaseWithUnderscores) {
            setPropertyNamingStrategy(PropertyNamingStrategy.CAMEL_CASE_TO_LOWER_CASE_WITH_UNDERSCORES);
        }
        // 进行日期格式化
        if (StringUtil.isNotEmpty(dateFormatPattern)) {
            DateFormat dateFormat = new SimpleDateFormat(dateFormatPattern);
            setDateFormat(dateFormat);
        }
    }
}
</code></pre>
<p>第二步：将 CustomObjectMapper 注入到 MappingJackson2HttpMessageConverter 中，Spring 配置如下：</p>
<pre><code class="language-xml">&lt;bean id=&quot;objectMapper&quot; class=&quot;com.xxx.api.json.CustomObjectMapper&quot; init-method=&quot;init&quot;&gt;
    &lt;property name=&quot;camelCaseToLowerCaseWithUnderscores&quot; value=&quot;true&quot;/&gt;
    &lt;property name=&quot;dateFormatPattern&quot; value=&quot;yyyy-MM-dd HH:mm:ss&quot;/&gt;
&lt;/bean&gt;

&lt;mvc:annotation-driven&gt;
    &lt;mvc:message-converters&gt;
        &lt;bean class=&quot;org.springframework.http.converter.json.MappingJackson2HttpMessageConverter&quot;&gt;
            &lt;property name=&quot;objectMapper&quot; ref=&quot;objectMapper&quot;/&gt;
        &lt;/bean&gt;
    &lt;/mvc:message-converters&gt;
&lt;/mvc:annotation-driven&gt;
</code></pre>
<h2><a class="header" href="#处理异常" id="处理异常">处理异常</a></h2>
<p>使用 AOP 技术，编写一个全局的异常处理切面类，用它来统一处理所有的异常行为;定义一个类，并通过 @ControllerAdvice 注解将其标注即可，同时需要使用 @ResponseBody 注解表示返回值可序列化为 JSON 字符串</p>
<p>在运行时从上往下依次调用每个异常处理方法，匹配当前异常类型是否与 @ExceptionHandler 注解所定义的异常相匹配，若匹配，则执行该方法，同时忽略后续所有的异常处理方法，最终会返回经 JSON 序列化后的 Response 对象</p>
<pre><code class="language-java">@ControllerAdvice
@ResponseBody
public class ExceptionAdvice {

    /**
     * 400 - Bad Request
     */
    @ResponseStatus(HttpStatus.BAD_REQUEST)
    @ExceptionHandler(HttpMessageNotReadableException.class)
    public Response handleHttpMessageNotReadableException(HttpMessageNotReadableException e) {
        logger.error(&quot;参数解析失败&quot;, e);
        return new Response().failure(&quot;could_not_read_json&quot;);
    }

    /**
     * 405 - Method Not Allowed
     */
    @ResponseStatus(HttpStatus.METHOD_NOT_ALLOWED)
    @ExceptionHandler(HttpRequestMethodNotSupportedException.class)
    public Response handleHttpRequestMethodNotSupportedException(HttpRequestMethodNotSupportedException e) {
        logger.error(&quot;不支持当前请求方法&quot;, e);
        return new Response().failure(&quot;request_method_not_supported&quot;);
    }

    /**
     * 415 - Unsupported Media Type
     */
    @ResponseStatus(HttpStatus.UNSUPPORTED_MEDIA_TYPE)
    @ExceptionHandler(HttpMediaTypeNotSupportedException.class)
    public Response handleHttpMediaTypeNotSupportedException(Exception e) {
        logger.error(&quot;不支持当前媒体类型&quot;, e);
        return new Response().failure(&quot;content_type_not_supported&quot;);
    }

    /**
     * 500 - Internal Server Error
     */
    @ResponseStatus(HttpStatus.INTERNAL_SERVER_ERROR)
    @ExceptionHandler(Exception.class)
    public Response handleException(Exception e) {
        logger.error(&quot;服务运行异常&quot;, e);
        return new Response().failure(e.getMessage());
    }
}
</code></pre>
<h2><a class="header" href="#支持参数验证" id="支持参数验证">支持参数验证</a></h2>
<p>提供一个 @Valid 注解来定义 AdvertiserParam 参数，并在 AdvertiserParam 类中通过 @NotEmpty 注解来定义 advertiserName 属性, like this:</p>
<pre><code class="language-java">@RestController
public class AdvertiserController {

    @RequestMapping(value = &quot;/advertiser&quot;, method = RequestMethod.POST)
    public Response createAdvertiser(@RequestBody @Valid AdvertiserParam advertiserParam) {//这里的@Valid需要jar包支持，pom引入
        ...
    }
}

public class AdvertiserParam {

    @NotEmpty
    private String advertiserName;

    private String description;

    // 省略 getter/setter 方法
}

//定义@NotEmpty 注解类
@Documented
@Target({ElementType.FIELD, ElementType.PARAMETER})
@Retention(RetentionPolicy.RUNTIME)
@Constraint(validatedBy = NotEmptyValidator.class)//指定一个验证器类
public @interface NotEmpty {
//以下三个属性为必须，是规范所要求
    String message() default &quot;not_empty&quot;;

    Class&lt;?&gt;[] groups() default {};

    Class&lt;? extends Payload&gt;[] payload() default {};
}

//定义验证器类
public class NotEmptyValidator implements ConstraintValidator&lt;NotEmpty, String&gt; {//NotEmpty是验证注解类型，String是需要验证的参数类型

    @Override
    public void initialize(NotEmpty constraintAnnotation) {
    }

    @Override
    public boolean isValid(String value, ConstraintValidatorContext context) {
        return StringUtil.isNotEmpty(value);
    }
}

</code></pre>
<p>这里的 @Valid 注解实际上是 Validation Bean 规范提供的注解，该规范已由 Hibernate Validator 框架实现，因此需要添加以下 Maven 依赖到 pom.xml 文件中:</p>
<pre><code class="language-xml">&lt;dependency&gt;
    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;
    &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;
    &lt;version&gt;${hibernate-validator.version}&lt;/version&gt;
&lt;/dependency&gt;
</code></pre>
<p>最后，需要在 Spring 配置文件中开启校验，需添加如下配置</p>
<pre><code class="language-xml">&lt;bean class=&quot;org.springframework.validation.beanvalidation.MethodValidationPostProcessor&quot;/&gt;
</code></pre>
<p>最后，需要在全局异常处理类中添加参数验证处理方法，代码如下：</p>
<pre><code class="language-java">@ControllerAdvice
@ResponseBody
public class ExceptionAdvice {

    /**
     * 400 - Bad Request
     */
    @ResponseStatus(HttpStatus.BAD_REQUEST)
    @ExceptionHandler(ValidationException.class)
    public Response handleValidationException(ValidationException e) {
        logger.error(&quot;参数验证失败&quot;, e);
        return new Response().failure(&quot;validation_exception&quot;);
    }
}
</code></pre>
<h2><a class="header" href="#解决跨域问题" id="解决跨域问题">解决跨域问题</a></h2>
<p>整个架构包含两个应用，前端应用提供纯静态的 HTML 页面，后端应用发布 REST API，前端需要通过 AJAX 调用后端发布的 REST API，然而 AJAX 是不支持跨域访问的</p>
<p>浏览器访问某个 server  中的 js 资源, js 中向另外不同源的 server 发送了 ajax 请求, 这是浏览器不允许的, 也就是不支持跨域访问</p>
<p>如, A网页设置的 Cookie，B网页不能打开，除非这两个网页&quot;同源&quot;   , 防止恶意的网站窃取数据</p>
<p>同源必须符合一下三点相同：</p>
<ol>
<li>协议相同</li>
<li>域名相同</li>
<li>端口相同</li>
</ol>
<p>如果判定为非同源，有三点行为受限制：</p>
<pre><code>（1） Cookie、LocalStorage 和 IndexDB 无法读取。
（2） DOM 无法获得。
（3） AJAX 请求不能发送。
</code></pre>
<p>解决这个问题需要前后端互相配合，后端的工作只要能将 CORS 响应头写入 response 对象中即可, SpringBoot配合前端实现跨域 - https://blog.csdn.net/saytime/article/details/74937204</p>
<p>csrf 跨站请求伪造攻击
https://www.cnblogs.com/Infernal/p/11282443.html
https://www.cnblogs.com/lailailai/p/4528092.html
TODO</p>
<h2><a class="header" href="#api访问权" id="api访问权">API访问权</a></h2>
<p>由于 REST 是无状态的，后端应用发布的 REST API 可在用户未登录的情况下被任意调用，这显然是不安全的</p>
<p>实现思路：</p>
<ol>
<li>登录成功后，server生成一个token，JVM中保存一份，同时返回客户端一份</li>
<li>客户端中将token写入cookie，每次请求都带上</li>
<li>提供一个aop切面，拦截所有请求，判断token有效性</li>
<li>登出时，清楚cookie中的token，服务端的token可设置过期时间，自行移除</li>
</ol>
<p>如果需要做到分布式集群，建议基于 Redis 提供一个实现类<br />
如下是一个简单的实现：</p>
<pre><code class="language-java">public interface TokenManager {

    String createToken(String username);

    boolean checkToken(String token);
}

//简单版的实现
public class DefaultTokenManager implements TokenManager {

    private static Map&lt;String, String&gt; tokenMap = new ConcurrentHashMap&lt;&gt;();

    @Override
    public String createToken(String username) {
        String token = CodecUtil.createUUID();
        tokenMap.put(token, username);
        return token;
    }

    @Override
    public boolean checkToken(String token) {
        return !StringUtil.isEmpty(token) &amp;&amp; tokenMap.containsKey(token);
    }
}

//切面类
public class SecurityAspect {

    private static final String DEFAULT_TOKEN_NAME = &quot;X-Token&quot;;

    private TokenManager tokenManager;
    private String tokenName;

    public void setTokenManager(TokenManager tokenManager) {
        this.tokenManager = tokenManager;
    }

    public void setTokenName(String tokenName) {
        if (StringUtil.isEmpty(tokenName)) {
            tokenName = DEFAULT_TOKEN_NAME;
        }
        this.tokenName = tokenName;
    }

    public Object execute(ProceedingJoinPoint pjp) throws Throwable {
        // 从切点上获取目标方法
        MethodSignature methodSignature = (MethodSignature) pjp.getSignature();
        Method method = methodSignature.getMethod();
        // 若目标方法忽略了安全性检查，则直接调用目标方法
        if (method.isAnnotationPresent(IgnoreSecurity.class)) {
            return pjp.proceed();
        }
        // 从 request header 中获取当前 token
        String token = WebContext.getRequest().getHeader(tokenName);
        // 检查 token 有效性
        if (!tokenManager.checkToken(token)) {
            String message = String.format(&quot;token [%s] is invalid&quot;, token);
            throw new TokenException(message);
        }
        // 调用目标方法
        return pjp.proceed();
    }
}
</code></pre>
<p>使切面生效，添加如下Spring配置：</p>
<pre><code class="language-xml">&lt;bean id=&quot;securityAspect&quot; class=&quot;com.xxx.api.security.SecurityAspect&quot;&gt;
    &lt;property name=&quot;tokenManager&quot; ref=&quot;tokenManager&quot;/&gt;
    &lt;property name=&quot;tokenName&quot; value=&quot;X-Token&quot;/&gt;
&lt;/bean&gt;

&lt;aop:config&gt;
    &lt;aop:aspect ref=&quot;securityAspect&quot;&gt;
        &lt;aop:around method=&quot;execute&quot; pointcut=&quot;@annotation(org.springframework.web.bind.annotation.RequestMapping)&quot;/&gt;
    &lt;/aop:aspect&gt;
&lt;/aop:config&gt;
</code></pre>
<p>最后，在 web.xml 中添加允许的 X-Token 响应头，配置如下：</p>
<pre><code class="language-xml">&lt;init-param&gt;
    &lt;param-name&gt;allowHeaders&lt;/param-name&gt;
    &lt;param-value&gt;Content-Type,X-Token&lt;/param-value&gt;
&lt;/init-param&gt;
</code></pre>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        
                            <a rel="prev" href="outline-about-http.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                        

                        
                            <a rel="next" href="php-note.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                
                    <a rel="prev" href="outline-about-http.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                

                
                    <a rel="next" href="php-note.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
                
            </nav>

        </div>

        

        

        
        
        
        <script type="text/javascript">
            window.playpen_copyable = true;
        </script>
        

        

        
        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        

        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        

        

    </body>
</html>
